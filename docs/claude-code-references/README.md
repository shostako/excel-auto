# Claude Code 公式リファレンス

このディレクトリには、Claude Code自体の機能や使い方に関する参考資料を格納する。

---

## 📁 収録内容

### サブエージェント機能（2025-11-07検証完了）

#### 1. SUBAGENT_VERIFICATION_REPORT.md (15KB)
Gemini提供情報の徹底的なファクトチェック結果。

**検証内容**:
- Phase 1-6で系統的に検証
- 実測データ：10.8倍のコンテキスト効率化、1.8倍の並列実行効率化
- 技術的正確性：全て確認済み

**結論**: Geminiの技術情報は完全に正確（動画の実在性は未確認）

#### 2. SUBAGENT_BEST_PRACTICES.md (11KB)
excel-auto開発での実用的な活用ガイド。

**内容**:
- Explore/Planサブエージェントの使い分け
- thoroughnessレベルの選択基準
- 並列実行のパターン
- アンチパターンとトラブルシューティング
- 具体的なプロンプト例

**黄金律**:
1. 大規模調査はサブエージェントに委任（10.8倍効率化）
2. 独立タスクは並列実行（1.8倍効率化）
3. 簡単なタスクは直接実行（速度優先）
4. thoroughnessは適切に設定（コスト vs 品質）
5. Planの前にExplore（効率的な計画立案）

---

## 🎯 ローカルセッション用クイックガイド

### いつサブエージェントを使うべきか？

```
大規模な調査が必要？
├─ Yes → Exploreサブエージェント
│   └─ thoroughness: quick/medium/very thorough
└─ No
   └─ 複雑な実装計画が必要？
      ├─ Yes → Planサブエージェント
      └─ No → 直接実行（Grep/Read/Glob）
```

### excel-auto開発での推奨シーン

| タスク | 方法 | 効果 |
|--------|------|------|
| 参考マクロの分析 | Explore (medium) | 2-3倍効率化 |
| 複数マクロの最適化確認 | Explore (quick) | 10倍効率化 |
| 新機能の実装計画 | Plan (sonnet) | 体系的な計画 |
| ドキュメント全体の見直し | 4x Explore並列 | 1.8倍効率化 |

### 使わない方が良い場面

- ❌ 単一ファイルの読み込み（Readで十分）
- ❌ 緊急のバグ修正（直接Grep/Read）
- ❌ 特定クラス/関数の検索（Globで十分）

---

## 📊 実測データ（検証済み）

| 指標 | 実測値 | 備考 |
|------|--------|------|
| コンテキスト効率化 | 10.8倍 | 大規模テスト（30+ファイル） |
| 並列実行効率化 | 1.8倍 | 4タスク同時実行 |
| 小規模調査効率化 | 2.45倍 | 3-5ファイル程度 |
| thinking比率 | 70% | サブエージェント内部処理 |

---

## 🔗 関連ドキュメント

- **作業ログ**: `logs/2025-11.md` - 検証実験の詳細記録
- **CLAUDE.md**: プロジェクト設定（サブエージェント活用方針を追記予定）

---

**最終更新**: 2025-11-07
**検証者**: Monday (Claude Sonnet 4.5)
